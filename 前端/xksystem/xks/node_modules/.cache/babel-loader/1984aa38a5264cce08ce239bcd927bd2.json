{"remainingRequest":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/babel-loader/lib/index.js!/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/src/components/Login.vue","mtime":1592123301855},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/cache-loader/dist/cjs.js","mtime":1583549573706},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/babel-loader/lib/index.js","mtime":1562758742388},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/vuetify-loader/lib/loader.js","mtime":1583549872658},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/cache-loader/dist/cjs.js","mtime":1583549573706},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/vue-loader/lib/index.js","mtime":1583549581035}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY2NvdW50OiAiIiwKICAgICAgcHdkOiAiIiwKICAgICAgYWNjb3VudF9mYWlsZWQ6IGZhbHNlLAogICAgICB5OiAidG9wIiwKICAgICAgdGltZW91dDogMjAwMCwKICAgICAgdXNlcl90eXBlX2FycmF5OiBbJ+WtpueUnycsICfogIHluIgnLCAn566h55CG5ZGYJ10sCiAgICAgIHVzZXJfdHlwZTogIuWtpueUnyIKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzaWQiKSAhPSBudWxsICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzcGFzc3dvcmQiKSAhPSBudWxsKSB7CiAgICAgIHRoaXMuYWNjb3VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzaWQiKTsKICAgICAgdGhpcy5wd2QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic3Bhc3N3b3JkIik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwKHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHVybDogIi9zdHVkZW50L2xvZ2luLz9zaWQ9IiArIHRoaXMuYWNjb3VudCArICImc3Bhc3N3b3JkPSIgKyB0aGlzLnB3ZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvL+eZu+W9leaIkOWKnwogICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInNpZCIsIF90aGlzLmFjY291bnQpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInNwYXNzd29yZCIsIF90aGlzLnB3ZCk7CgogICAgICAgICAgX3RoaXMuY2xlYXJJbnB1dCgpOwoKICAgICAgICAgIF90aGlzLiRlbWl0KCJsb2dpbiIsIHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5hY2NvdW50X2ZhaWxlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZV91c2VyX3R5cGU6IGZ1bmN0aW9uIGNoYW5nZV91c2VyX3R5cGUoZSkgewogICAgICB0aGlzLnVzZXJfdHlwZSA9IGU7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuY2xlYXJJbnB1dCgpOwogICAgICB0aGlzLiRlbWl0KCJjYW5jZWwiKTsKICAgIH0sCiAgICBjbGVhcklucHV0OiBmdW5jdGlvbiBjbGVhcklucHV0KCkgewogICAgICB0aGlzLmFjY291bnQgPSAiIjsKICAgICAgdGhpcy5wd2QgPSAiIjsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,eAAA;AACA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,GAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,KAHA;AAIA,MAAA,CAAA,EAAA,KAJA;AAKA,MAAA,OAAA,EAAA,IALA;AAMA,MAAA,eAAA,EAAA,CAAA,IAAA,EAAA,IAAA,EAAA,KAAA,CANA;AAOA,MAAA,SAAA,EAAA;AAPA,KAAA;AAAA,GADA;AAUA,EAAA,OAVA,qBAUA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,KAAA,KAAA,IAAA,IAAA,YAAA,CAAA,OAAA,CAAA,WAAA,KAAA,IAAA,EAAA;AACA,WAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,WAAA,GAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,WAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,yBAAA,KAAA,OAAA,GAAA,aAAA,GAAA,KAAA;AAFA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,GAAA,CAAA,IAAA,EAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,KAAA,EAAA,KAAA,CAAA,OAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,KAAA,CAAA,GAAA;;AACA,UAAA,KAAA,CAAA,UAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,OAAA,EAAA,IAAA;AACA,SALA,MAKA;AACA,UAAA,KAAA,CAAA,cAAA,GAAA,IAAA;AACA;AACA,OAdA,EAeA,KAfA,CAeA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAjBA;AAkBA,KApBA;AAqBA,IAAA,gBArBA,4BAqBA,CArBA,EAqBA;AACA,WAAA,SAAA,GAAA,CAAA;AACA,KAvBA;AAwBA,IAAA,MAxBA,oBAwBA;AACA,WAAA,UAAA;AACA,WAAA,KAAA,CAAA,QAAA;AACA,KA3BA;AA4BA,IAAA,UA5BA,wBA4BA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,WAAA,GAAA,GAAA,EAAA;AACA;AA/BA;AAhBA,CAAA","sourcesContent":["<template>\n  <v-container>\n    <v-snackbar v-model=\"account_failed\" multi-line=\"multi-line\" :top=\"y === 'top'\" :timeout=\"timeout\">\n      账号或密码错误！\n      <v-btn color=\"red\" text @click=\"account_failed = false\">关闭</v-btn>\n    </v-snackbar>\n    <v-card class=\"elevation-12\">\n      <v-toolbar color=\"indigo\" dark flat>\n        <v-toolbar-title>选课系统</v-toolbar-title>\n        <v-spacer/>\n      </v-toolbar>\n      <v-card-text>\n        <v-form>\n          <v-text-field label=\"账号\" name=\"account\" type=\"number\" v-model=\"account\"/>\n          <v-text-field id=\"password\" label=\"密码\" name=\"password\" type=\"password\" v-model=\"pwd\"/>\n          <v-select\n            :items=\"user_type_array\"\n            label=\"用户类型\"\n            :value=\"user_type\"\n            @change=\"change_user_type($event)\"\n          ></v-select>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer/>\n        <v-btn color=\"indigo\" style=\"color:white;margin-right:20px;\" @click=\"cancel()\">取消</v-btn>\n        <v-btn color=\"indigo\" style=\"color:white;\" @click=\"login()\">登录</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    account: \"\",\n    pwd: \"\",\n    account_failed: false,\n    y: \"top\",\n    timeout: 2000,\n    user_type_array:['学生','老师','管理员'],\n    user_type:\"学生\"\n  }),\n  created() {\n    if(localStorage.getItem(\"sid\")!=null && localStorage.getItem(\"spassword\")!=null){\n      this.account=localStorage.getItem(\"sid\");\n      this.pwd=localStorage.getItem(\"spassword\");\n    }\n  },\n  methods: {\n    login() {\n      this.$http({\n        method: \"get\",\n        url: \"/student/login/?sid=\" + this.account + \"&spassword=\" + this.pwd\n      })\n        .then(res => {\n          //登录成功\n          if (res.data) {\n            localStorage.setItem(\"sid\",this.account);\n            localStorage.setItem(\"spassword\",this.pwd);\n            this.clearInput();\n            this.$emit(\"login\", true);\n          } else {\n            this.account_failed = true;\n          }\n        })\n        .catch(error => {\n          console.log(error.response);\n        });\n    },\n    change_user_type(e){\n      this.user_type=e;\n    },\n    cancel() {\n      this.clearInput();\n      this.$emit(\"cancel\");\n    },\n    clearInput(){\n      this.account=\"\";\n      this.pwd=\"\";\n    }\n  }\n};\n</script>"],"sourceRoot":"src/components"}]}