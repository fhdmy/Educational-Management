{"remainingRequest":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/src/components/ChooseCourse.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/src/components/ChooseCourse.vue","mtime":1592296832627},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jiang/Desktop/数据库/第二学期/选课系统/前端/xksystem/xks/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2hvb3NlQ291cnNlIiwKICBjb21wb25lbnRzOiB7fSwKICBjcmVhdGVkKCkgewogICAgaWYodGhpcy50b2tlbiE9IiIpCiAgICAgIHRoaXMudXBkYXRlX2RhdGEoKTsKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICB1bmxvZ2luOmZhbHNlLAogICAgeTogInRvcCIsCiAgICB0aW1lb3V0OiAyMDAwLAoKICAgIGNvdXJzZV9pZDogIiIsCiAgICBjb3Vyc2VfbmFtZTogIiIsCiAgICBzY29yZTogIiIsCiAgICB0ZWFjaGVyX2lkOiAiIiwKICAgIHRlYWNoZXJfbmFtZTogIiIsCiAgICBjb3Vyc2VfdGltZToiIiwKICAgIHhuYW1lOiIiLAoKICAgIGhlYWRlcnM6IFsKICAgICAgewogICAgICAgIHRleHQ6ICLkurrmlbAiLAogICAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICAgIHZhbHVlOiAicG51bSIKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICLor77nqIsiLAogICAgICAgIHZhbHVlOiAiY291cnNlIgogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIuaVmeW4iCIsCiAgICAgICAgdmFsdWU6ICJ0ZWFjaGVyIgogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIuS4iuivvuaXtumXtCIsCiAgICAgICAgdmFsdWU6ICJ0aW1lIgogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIuWcsOeCuSIsCiAgICAgICAgdmFsdWU6ICJwbGFjZSIKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICLlrabliIYiLAogICAgICAgIHZhbHVlOiAic2NvcmUiCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAi6KGM5Li6IiwKICAgICAgICB2YWx1ZTogImFjdGlvbiIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0KICAgIF0sCiAgICBjb3Vyc2VzOltdLAogIH0pLAogIHByb3BzOnsKICAgIHRva2VuOnsKICAgICAgdHlwZTpTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IiIKICAgIH0sCiAgICBzaWQ6ewogICAgICB0eXBlOlN0cmluZywKICAgICAgZGVmYXVsdDoiIgogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNvdXJzZV9pZCgpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7CiAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIGNvdXJzZV9uYW1lKCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgc2NvcmUoKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpOwogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICB0ZWFjaGVyX2lkKCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgdGVhY2hlcl9uYW1lKCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgeG5hbWUoKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpOwogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBjb3Vyc2VfdGltZSgpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7CiAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIHNpZCgpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7CiAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7CiAgICAgIH0sIDEwMDApOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hvb3NlX2l0ZW0oaXRlbSkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMuY291cnNlcy5pbmRleE9mKGl0ZW0pOwogICAgICBpZih0aGlzLnNpZD09IiIpewogICAgICAgIHRoaXMudW5sb2dpbj10cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRodHRwKHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICB1cmw6Ii9hcGkvc3R1ZGVudC9zdHVkZW50cy9jaG9vc2VfY291cnNlLyIsCiAgICAgICAgZGF0YTp7CiAgICAgICAgICBvY2lkOnBhcnNlSW50KGl0ZW0ub2NpZCksCiAgICAgICAgfSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6IHRoaXMudG9rZW4KICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZihyZXMuc3RhdHVzPT0yMDApewogICAgICAgICAgICB2YXIgcHNwbGl0PWl0ZW0ucG51bS5zcGxpdCgiLyIpOwogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5jb3Vyc2VzW2luZGV4XSwicG51bSIscGFyc2VJbnQoTnVtYmVyKHBzcGxpdFswXSkrMSkrIi8iK3BzcGxpdFsxXSk7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmNvdXJzZXNbaW5kZXhdLCJjaG9zZW4iLHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVfaXRlbShpdGVtKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jb3Vyc2VzLmluZGV4T2YoaXRlbSk7CiAgICAgIGlmIChjb25maXJtKCLnoa7lrpropoHpgIDor74/IikpIHsKICAgICAgICB0aGlzLiRodHRwKHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiL2FwaS9zdHVkZW50L3N0dWRlbnRzL2NhbmNlbF9jaG9vc2VfY291cnNlLyIsCiAgICAgICAgICBkYXRhOnsKICAgICAgICAgICAgICBvY2lkOnBhcnNlSW50KGl0ZW0ub2NpZCksCiAgICAgICAgICB9LAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6IHRoaXMudG9rZW4KICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgIHZhciBwc3BsaXQ9aXRlbS5wbnVtLnNwbGl0KCIvIik7CiAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuY291cnNlc1tpbmRleF0sInBudW0iLHBhcnNlSW50KE51bWJlcihwc3BsaXRbMF0pLTEpKyIvIitwc3BsaXRbMV0pOwogICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmNvdXJzZXNbaW5kZXhdLCJjaG9zZW4iLGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlKCkgewogICAgICAvL+aJp+ihjOWPkemAgeivt+axggogICAgICB0aGlzLnVwZGF0ZV9kYXRhKCk7CiAgICB9LAogICAgdXBkYXRlX2RhdGEoKSB7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiIvYXBpL3N0dWRlbnQvZ2V0X29mZmVyX2NvdXJzZXMvP2NpZD0iICsKICAgICAgICAgIHRoaXMuY291cnNlX2lkICsKICAgICAgICAgICImY25hbWU9IiArCiAgICAgICAgICB0aGlzLmNvdXJzZV9uYW1lICsKICAgICAgICAgICImc2NvcmU9IiArCiAgICAgICAgICB0aGlzLnNjb3JlICsKICAgICAgICAgICImdGlkPSIgKwogICAgICAgICAgdGhpcy50ZWFjaGVyX2lkICsKICAgICAgICAgICImdG5hbWU9IiArCiAgICAgICAgICB0aGlzLnRlYWNoZXJfbmFtZSsKICAgICAgICAgICImeG5hbWU9IiArCiAgICAgICAgICB0aGlzLnhuYW1lKwogICAgICAgICAgIiZ0aW1lPSIgKwogICAgICAgICAgdGhpcy5jb3Vyc2VfdGltZSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6IHRoaXMudG9rZW4KICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmNvdXJzZXM9W107CiAgICAgICAgICBmb3IodmFyIGs9MDtrPHJlcy5kYXRhLmxlbmd0aDtrKyspCiAgICAgICAgICB7CiAgICAgICAgICAgIHZhciBwbj1yZXMuZGF0YVtrXS5jaG9vc2VudW0rIi8iK3Jlcy5kYXRhW2tdLm1heG51bTsKICAgICAgICAgICAgdmFyIGM9cmVzLmRhdGFba10uY2lkLmNuYW1lKyIgICIrcmVzLmRhdGFba10uY2lkLmNpZDsKICAgICAgICAgICAgdmFyIHQ9cmVzLmRhdGFba10udGlkLnRuYW1lKyIgICIrcmVzLmRhdGFba10udGlkLnRpZDsKICAgICAgICAgICAgdmFyIHhuYW1lPXJlcy5kYXRhW2tdLnhpZC54bmFtZTsKICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuY291cnNlcywgaywgewogICAgICAgICAgICAgIHBudW06IHBuLAogICAgICAgICAgICAgIGNvdXJzZTogYywKICAgICAgICAgICAgICB0ZWFjaGVyOiB0LAogICAgICAgICAgICAgIHRpbWU6IHJlcy5kYXRhW2tdLnRpbWUsCiAgICAgICAgICAgICAgcGxhY2U6IlsiK3huYW1lICsgIl0gIiArcmVzLmRhdGFba10ucGxhY2UsCiAgICAgICAgICAgICAgc2NvcmU6IHJlcy5kYXRhW2tdLmNpZC5zY29yZSwKICAgICAgICAgICAgICBjaG9zZW46cmVzLmRhdGFba10uY2hvc2VuLAogICAgICAgICAgICAgIG9jaWQ6cmVzLmRhdGFba10uaWQsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["ChooseCourse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChooseCourse.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-snackbar v-model=\"unlogin\" multi-line=\"multi-line\" :top=\"y === 'top'\" :timeout=\"timeout\">\n      请先登录！ \n      <v-btn color=\"red\" text @click=\"unlogin = false\">关闭</v-btn>\n    </v-snackbar>\n    <div class=\"input-wrapper\">\n      <v-row>\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"course_id\" label=\"课程号\" outlined dense></v-text-field>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"course_name\" label=\"课程名称\" outlined dense></v-text-field>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"score\" label=\"学分数\" outlined dense></v-text-field>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"xname\" label=\"校区\" outlined dense></v-text-field>\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"teacher_id\" label=\"教师号\" outlined dense></v-text-field>\n        </v-col>\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"teacher_name\" label=\"教师姓名\" outlined dense></v-text-field>\n        </v-col>\n        <v-col cols=\"12\" md=\"3\">\n          <v-text-field v-model=\"course_time\" label=\"上课时间\" outlined dense></v-text-field>\n        </v-col>\n      </v-row>\n    </div>\n    <v-data-table :headers=\"headers\" :items=\"courses\" :items-per-page=\"10\">\n      <template v-slot:item.action=\"{ item }\">\n        <v-btn @click=\"choose_item(item)\" color=\"error\" v-show=\"!item.chosen\">选课</v-btn>\n        <v-btn @click=\"delete_item(item)\" color=\"primary\" v-show=\"item.chosen\">退课</v-btn>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ChooseCourse\",\n  components: {},\n  created() {\n    if(this.token!=\"\")\n      this.update_data();\n  },\n  data: () => ({\n    unlogin:false,\n    y: \"top\",\n    timeout: 2000,\n\n    course_id: \"\",\n    course_name: \"\",\n    score: \"\",\n    teacher_id: \"\",\n    teacher_name: \"\",\n    course_time:\"\",\n    xname:\"\",\n\n    headers: [\n      {\n        text: \"人数\",\n        align: \"start\",\n        value: \"pnum\"\n      },\n      {\n        text: \"课程\",\n        value: \"course\"\n      },\n      {\n        text: \"教师\",\n        value: \"teacher\"\n      },\n      {\n        text: \"上课时间\",\n        value: \"time\"\n      },\n      {\n        text: \"地点\",\n        value: \"place\"\n      },\n      {\n        text: \"学分\",\n        value: \"score\"\n      },\n      {\n        text: \"行为\",\n        value: \"action\",\n        sortable: false\n      }\n    ],\n    courses:[],\n  }),\n  props:{\n    token:{\n      type:String,\n      default:\"\"\n    },\n    sid:{\n      type:String,\n      default:\"\"\n    }\n  },\n  watch: {\n    course_id() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.handleChange();\n      }, 1000);\n    },\n    course_name() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.handleChange();\n      }, 1000);\n    },\n    score() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.handleChange();\n      }, 1000);\n    },\n    teacher_id() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.handleChange();\n      }, 1000);\n    },\n    teacher_name() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.handleChange();\n      }, 1000);\n    },\n    xname() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.handleChange();\n      }, 1000);\n    },\n    course_time() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.handleChange();\n      }, 1000);\n    },\n    sid() {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.handleChange();\n      }, 1000);\n    }\n  },\n  methods: {\n    choose_item(item) {\n      const index = this.courses.indexOf(item);\n      if(this.sid==\"\"){\n        this.unlogin=true;\n        return;\n      }\n      this.$http({\n        method: \"POST\",\n        url:\"/api/student/students/choose_course/\",\n        data:{\n          ocid:parseInt(item.ocid),\n        },\n        headers: {\n          \"Authorization\": this.token\n        },\n      })\n        .then(res => {\n          if(res.status==200){\n            var psplit=item.pnum.split(\"/\");\n            this.$set(this.courses[index],\"pnum\",parseInt(Number(psplit[0])+1)+\"/\"+psplit[1]);\n            this.$set(this.courses[index],\"chosen\",true);\n          }\n        })\n        .catch(error => {\n          console.log(error.response);\n        });\n    },\n    delete_item(item) {\n      const index = this.courses.indexOf(item);\n      if (confirm(\"确定要退课?\")) {\n        this.$http({\n          method: \"POST\",\n          url: \"/api/student/students/cancel_choose_course/\",\n          data:{\n              ocid:parseInt(item.ocid),\n          },\n          headers: {\n            \"Authorization\": this.token\n          },\n        })\n          .then(res => {\n            if (res.status == 200) {\n              var psplit=item.pnum.split(\"/\");\n              this.$set(this.courses[index],\"pnum\",parseInt(Number(psplit[0])-1)+\"/\"+psplit[1]);\n              this.$set(this.courses[index],\"chosen\",false);\n            }\n          })\n          .catch(error => {\n            console.log(error.response);\n          });\n      }\n    },\n    handleChange() {\n      //执行发送请求\n      this.update_data();\n    },\n    update_data() {\n      this.$http({\n        method: \"get\",\n        url:\"/api/student/get_offer_courses/?cid=\" +\n          this.course_id +\n          \"&cname=\" +\n          this.course_name +\n          \"&score=\" +\n          this.score +\n          \"&tid=\" +\n          this.teacher_id +\n          \"&tname=\" +\n          this.teacher_name+\n          \"&xname=\" +\n          this.xname+\n          \"&time=\" +\n          this.course_time,\n        headers: {\n          \"Authorization\": this.token\n        },\n      })\n        .then(res => {\n          this.courses=[];\n          for(var k=0;k<res.data.length;k++)\n          {\n            var pn=res.data[k].choosenum+\"/\"+res.data[k].maxnum;\n            var c=res.data[k].cid.cname+\"  \"+res.data[k].cid.cid;\n            var t=res.data[k].tid.tname+\"  \"+res.data[k].tid.tid;\n            var xname=res.data[k].xid.xname;\n            this.$set(this.courses, k, {\n              pnum: pn,\n              course: c,\n              teacher: t,\n              time: res.data[k].time,\n              place:\"[\"+xname + \"] \" +res.data[k].place,\n              score: res.data[k].cid.score,\n              chosen:res.data[k].chosen,\n              ocid:res.data[k].id,\n            });\n          }\n        })\n        .catch(error => {\n          console.log(error.response);\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.col-12 {\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.input-wrapper {\n  border-bottom: 1px solid #bbbbbb;\n}\n</style>\n"]}]}