{"remainingRequest":"/Users/jiang/Desktop/数据库/第一学期/选课系统/前端/xksystem/xks/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiang/Desktop/数据库/第一学期/选课系统/前端/xksystem/xks/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiang/Desktop/数据库/第一学期/选课系统/前端/xksystem/xks/src/components/Login.vue","mtime":1583644722615},{"path":"/Users/jiang/Desktop/数据库/第一学期/选课系统/前端/xksystem/xks/node_modules/cache-loader/dist/cjs.js","mtime":1583549573706},{"path":"/Users/jiang/Desktop/数据库/第一学期/选课系统/前端/xksystem/xks/node_modules/babel-loader/lib/index.js","mtime":1562758742388},{"path":"/Users/jiang/Desktop/数据库/第一学期/选课系统/前端/xksystem/xks/node_modules/cache-loader/dist/cjs.js","mtime":1583549573706},{"path":"/Users/jiang/Desktop/数据库/第一学期/选课系统/前端/xksystem/xks/node_modules/vue-loader/lib/index.js","mtime":1583549581035}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgYWNjb3VudDogIiIsCiAgICBwd2Q6ICIiLAogICAgYWNjb3VudF9mYWlsZWQ6IGZhbHNlLAogICAgeTogInRvcCIsCiAgICB0aW1lb3V0OiAyMDAwCiAgfSksCiAgY3JlYXRlZCgpIHsKICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzaWQiKSE9bnVsbCAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic3Bhc3N3b3JkIikhPW51bGwpewogICAgICB0aGlzLmFjY291bnQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oInNpZCIpOwogICAgICB0aGlzLnB3ZD1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic3Bhc3N3b3JkIik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbigpIHsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6ICIvc3R1ZGVudC9sb2dpbi8/c2lkPSIgKyB0aGlzLmFjY291bnQgKyAiJnNwYXNzd29yZD0iICsgdGhpcy5wd2QKICAgICAgfSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgLy/nmbvlvZXmiJDlip8KICAgICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic2lkIix0aGlzLmFjY291bnQpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic3Bhc3N3b3JkIix0aGlzLnB3ZCk7CiAgICAgICAgICAgIHRoaXMuY2xlYXJJbnB1dCgpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJsb2dpbiIsIHRydWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5hY2NvdW50X2ZhaWxlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5jbGVhcklucHV0KCk7CiAgICAgIHRoaXMuJGVtaXQoImNhbmNlbCIpOwogICAgfSwKICAgIGNsZWFySW5wdXQoKXsKICAgICAgdGhpcy5hY2NvdW50PSIiOwogICAgICB0aGlzLnB3ZD0iIjsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <v-snackbar v-model=\"account_failed\" multi-line=\"multi-line\" :top=\"y === 'top'\" :timeout=\"timeout\">\n      账号或密码错误！\n      <v-btn color=\"red\" text @click=\"account_failed = false\">关闭</v-btn>\n    </v-snackbar>\n    <v-card class=\"elevation-12\">\n      <v-toolbar color=\"indigo\" dark flat>\n        <v-toolbar-title>选课系统</v-toolbar-title>\n        <v-spacer/>\n      </v-toolbar>\n      <v-card-text>\n        <v-form>\n          <v-text-field label=\"账号\" name=\"account\" type=\"number\" v-model=\"account\"/>\n          <v-text-field id=\"password\" label=\"密码\" name=\"password\" type=\"password\" v-model=\"pwd\"/>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer/>\n        <v-btn color=\"indigo\" style=\"color:white;margin-right:20px;\" @click=\"cancel()\">取消</v-btn>\n        <v-btn color=\"indigo\" style=\"color:white;\" @click=\"login()\">登录</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    account: \"\",\n    pwd: \"\",\n    account_failed: false,\n    y: \"top\",\n    timeout: 2000\n  }),\n  created() {\n    if(localStorage.getItem(\"sid\")!=null && localStorage.getItem(\"spassword\")!=null){\n      this.account=localStorage.getItem(\"sid\");\n      this.pwd=localStorage.getItem(\"spassword\");\n    }\n  },\n  methods: {\n    login() {\n      this.$http({\n        method: \"get\",\n        url: \"/student/login/?sid=\" + this.account + \"&spassword=\" + this.pwd\n      })\n        .then(res => {\n          //登录成功\n          if (res.data) {\n            localStorage.setItem(\"sid\",this.account);\n            localStorage.setItem(\"spassword\",this.pwd);\n            this.clearInput();\n            this.$emit(\"login\", true);\n          } else {\n            this.account_failed = true;\n          }\n        })\n        .catch(error => {\n          console.log(error.response);\n        });\n    },\n    cancel() {\n      this.clearInput();\n      this.$emit(\"cancel\");\n    },\n    clearInput(){\n      this.account=\"\";\n      this.pwd=\"\";\n    }\n  }\n};\n</script>"]}]}